# テスト構造の説明

このフォルダには、プロジェクトのテストコードが含まれています。テストは以下のカテゴリに分類されています：

## 1. ユニットテスト (Unit Tests)

`unit/` ディレクトリには、アプリケーションの個々のコンポーネントを単体でテストするためのコードが含まれています。アプリケーションのレイヤー構造に合わせて以下のようにサブディレクトリを分けています：

- `core/`: コアユーティリティと基本機能のテスト
- `data/`: データソース、リポジトリ実装、モデルのテスト
- `domain/`: ユースケース、ドメインエンティティのテスト
- `presentation/`: ビューモデルとプレゼンテーションロジックのテスト

## 2. 統合テスト (Integration Tests)

`integration/` ディレクトリには、複数のコンポーネントが連携して動作する際の動作を確認するテストが含まれています。例えば：

- リポジトリとAPIの連携テスト
- ビューモデルとユースケースの連携テスト
- データフローの検証テスト

## 3. ウィジェットテスト (Widget Tests)

`widget/` ディレクトリには、UIコンポーネントをテストするためのコードが含まれています：

- 個別のウィジェットのレンダリングテスト
- ユーザー操作シミュレーションテスト
- 画面遷移のテスト

## 4. MVVMテスト (MVVM Tests)

`mvvm/` ディレクトリには、ViewとViewModelの連携に特化したテストが含まれています：

- ViewModelの状態管理テスト
- データバインディングのテスト
- UI更新のテスト
- コマンドとアクションの検証

## 5. シナリオテスト (Scenario Tests)

`scenarios/` ディレクトリには、ユースケースシナリオに基づいたエンドツーエンドのフロー検証テストが含まれています：

- ユーザーストーリーに沿ったフロー検証
- 複数のユースケースを横断するシナリオ
- ビジネスプロセス全体の検証

## 6. 境界コンテキストテスト (Boundary Context Tests)

`boundary_contexts/` ディレクトリには、DDDの境界コンテキスト間の連携をテストするコードが含まれています：

- 異なるドメイン間のデータ変換
- コンテキストマップに基づく統合テスト
- 複数のドメインにまたがるユースケースの検証

## 7. ゴールデンテスト (Golden Tests)

`golden/` ディレクトリには、UIコンポーネントの視覚的な外観をスナップショットで検証するためのテストが含まれています：

- UIコンポーネントの外観テスト
- レイアウトの一貫性検証
- 異なるデバイスサイズでのレスポンシブ検証

`golden_images/` ディレクトリには、ゴールデンテストで使用されるリファレンス画像が保存されています。

## テスト命名規則

テストファイルの命名規則は以下の通りです：

- ユニットテスト: `{テスト対象のクラス名}_test.dart`
- 統合テスト: `{テスト内容を表す名前}_integration_test.dart`
- ウィジェットテスト: `{テスト対象のウィジェット名}_widget_test.dart`
- MVVMテスト: `{テスト対象のViewModel名}_mvvm_test.dart`
- シナリオテスト: `{シナリオ名}_scenario_test.dart`
- 境界コンテキストテスト: `{コンテキスト名}_context_test.dart`
- ゴールデンテスト: `{テスト対象のUI名}_golden_test.dart`

## テスト実行方法

すべてのテストを実行：

```bash
flutter test
```

特定のテストファイルを実行：

```bash
flutter test test/unit/domain/usecases/get_user_usecase_test.dart
```

特定のディレクトリ内のすべてのテストを実行：

```bash
flutter test test/widget/
```

## モックの使用

テストではmockitoとmock_web_serverパッケージを使用して依存関係をモック化することを推奨します。各テストファイルの先頭でモックオブジェクトを定義し、`setUp`ブロック内で初期化します。 